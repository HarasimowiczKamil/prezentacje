<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="node_modules/reveal.js/css/reset.css">
    <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="node_modules/reveal.js/css/theme/white.css">
    <style>
        .reveal img {
            max-width: 60%;
        }
    </style>
</head>
<body lang="pl">
<div class="reveal">
    <div class="slides">
        <section data-markdown>
            # Wszędzie te nazwy

            > Kamil Harasimowicz
        </section>
        <section>
            <section data-markdown>
                ## Dlaczego tracić czas na wymyślanie nazw
            </section>
            <section data-markdown>
                ### Na czym polega praca programisty

                * pisanie nowych funkcjonalności
                * modyfikowanie funkcjonalnosci
                * naprawianie funkcjonalności
                * odpowiadanie na pytania biznesowe
            </section>
            <section data-markdown>
                > W rzeczywistości stosunek czasu spędzanego na czytaniu do czasu spędzanego na pisaniu jest jak 10:1.
                Stale czytamy starszy kod, jest to część pracy przy pisaniu nowego.

                "Czysty Kod" Robert C. Martin
            </section>
            <section>
                <img src="img/focus.jpg" style="max-width: 45%;"/>
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Notacja węgierska
                ###### Charles Simonyi

                ```
                int iNazwa
                array aNazwa
                ```

                ##### IDE (JetBrains)

                ```
                [Ctrl] + [Q]
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Nazwy powinny przedstawiać intencje
            </section>
            <section data-markdown>
                ## Nazwa powinna:
                * informować w jakim celu istnieje
                * co robi
                * jak jest używana

                > Jeżeli nazwa wymaga komentarza to znaczy, że nie ilustruje intencji

                "Czysty Kod" Robert C. Martin
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Nazwy nie powinny wymagać komentarza
            </section>
            <section data-markdown>
                ```
                int time; // czas trwania w dniach
                int timestamp; // czas utworzenia
                ```
            </section>
            <section data-markdown>
                ```
                int elapsedTimeInDays;
                DateTime createdAt;
                ```
            </section>
            <section>
                <img src="img/todo.jpg"/>
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Unikaj dezinformacji
            </section>
            <section data-markdown>
                ### Unikaj wyrazów mogących kojarzyć się z czymś innym
                * nazwy wzorców
                * nazwy typów

                ```
                Collection orderArray;
                int usernames;
                ```
            </section>
            <section data-markdown>
                ```
                Collection orderCollection;
                Collection openOrders;
                Collection orders;
                ```
            </section>

            <section data-markdown>
                ### Unikaj nazw nieznacznie się różniących
                ```
                int numberOfOrderFilteredByIssuerAccountId;
                int numberOfOrderFilteredByPurchaserAccountId;
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Twórz wyraźne różnice
            </section>
            <section data-markdown>
                ```
                copyItems(Invoice i1, Invoice i2);
                copyItems(Invoice source, Invoice destination);
                ```
            </section>
            <section data-markdown>
                ### Użyj dodatkowych słów ale z rozsądkiem
                ```
                UserGeneral
                UserInfo
                UserData
                ```
            </section>
            <section data-markdown>
                ```
                UserAuth
                UserAddress
                UserOrders
                ```
            </section>
            <section data-markdown>
                ### Nadmiarowe słowa

                ```
                str name
                // vs
                str nameString
                str nameVariable
                ...

                /**
                * @ORM\Entity
                * @ORM\Table(name="userTable")
                */

                issuer
                // vs
                issuerObject
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Twórz nazwy które można wymówić
            </section>
            <section data-markdown>
                ### Pogadaj o tym kodzie
                ```
                string updatedymdhms;
                int cntUserAdr;
                array filteredInvoicesFromLastMonthAndSentViaEmail;
                ```
            </section>
            <section data-markdown>
                ![](img/macarena.jpg)
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Nazwy powinny być łatwe do wyszukania
            </section>
            <section data-markdown>
                ```
                Order {
                const NEW_ORDER_STATUS;
                const PENDING_ORDER_STATUS;
                const NEW_TYPE;
                const OLD_TYPE;

                const STATUS_NEW;
                const STATUS_PENDING;
                }
                ```
            </section>
            <section data-markdown>
                ## Unikaj użycia skalarów bez stałej zmiennej
                ```
                const SHIPPING_DELAY_IN_MINUTES = 15
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Unikaj odwzorowania mentalnego
            </section>
            <section data-markdown>
                ```
                for (i = 0; i < 10; ++i)
                for (j = 0; j < 10; ++j)
                for (k = 0; k < 10; ++k)

                for (l = 0; l < 10; ++l)
                str h = 'http://example.com';
                ```
            </section>
            <section data-markdown>
                > Wiemy, że pracujemy na czystym kodzie, jeżeli każda procedura okaże się taką, jakiej się
                spodziewaliśmy. Można nazwać go również pięknym kodem, jeżeli wygląda, jakby ten język został stworzony
                do rozwiązania tego problemu.

                Cunningham Ward
            </section>
            <section data-markdown>
                > Jedną z różnic pomiędzy bystrymi programistami a profesjonalistami jest to, że profesjonaliści
                rozumieją, że czytelność jest wszystkim. Profesjonaliści piszą kod zrozumiały dla innych.

                "Czysty Kod" Robert C. Martin
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Nazwy klas
            </section>
            <section data-markdown>
                ### Nazwy klas rzeczowniki lub wyrażenia rzeczownikowe
                ```
                Customer
                Order
                Invoice

                AddressParser
                InvoiceGenerator
                MessageSender
                ```
            </section>
            <section data-markdown>
                ### Unikaj w nazwach klas słów takich jak
                * Processor
                * Data
                * Info
                * Handler
                * Service
            </section>
            <section data-markdown>
                #### Co robią klasy:

                ```
                OrderProcessor
                UserData
                UserInfo
                PaymentHandler
                InvoiceService
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ### Korzystanie z nazw dziedziny

                ```
                BankTransfer
                Invoice
                ProForm
                Vendor
                Order
                Purchaser
                ```
            </section>
            <section data-markdown>
                ### Techniczne elementy mogą mieć techniczne nazwy

                ```
                BankTransferRepository
                InvoiceBuilder
                MessageSenderStrategy
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Nazwy metod
            </section>
            <section data-markdown>
                ### Nazwy metod to czasowniki lub wyrażenia czasownikowe
                ```
                employee.getName()
                product.setSku('DOMAIN-1Y');

                if (product.isDomain())
                ```
            </section>
            <section data-markdown>
                ### Jedno słowo na pojęcie
                ```
                userRepository.find(userId)
                invoiceRepository.getById(invoiceId)
                order.fetchId(orderId)
                ```
            </section>
            <section data-markdown>
                ### Jeden termin jedno zagadnienie
                ```
                void function add(item) {
                    this.item += item;
                }
                void function append(item) {
                    this.item[] = item;
                }
                void function insert(item) {
                    this.repository.persist(item);
                    this.repository.flush(item);
                }
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Dodaj znaczący kontekst

                ```
                firstName;
                lastName;
                street;
                houseNumber;
                city;
                state;
                zipcode;
                ```
            </section>
            <section data-markdown>
                ## Poprzez dodanie przedrostka

                ```
                addressFirstName;
                addressLastName;
                addressStreet;
                addressHouseNumber;
                addressCity;
                addressState;
                addressZipcode;
                ```
            </section>
            <section data-markdown>
                ## Poprzez dodatkowy obiekt

                ```
                class Address {
                    firstName;
                    lastName;
                    street;
                    houseNumber;
                    city;
                    state;
                    zipcode;
                }
                Address fiscalAddress;
                ```
            </section>
            <section data-markdown>
                ## Unikaj nadmiernego kontekstu
                ```
                OneToolsUser
                OneToolsInvoice
                OneToolsOrder
                OneToolsPayment
                ...
                ```
            </section>
            <section data-markdown>
                > Krótsze nazwy są zwykle lepsze niż dłuższe, o ile są one jasne.

                "Czysty Kod" Robert C. Martin
            </section>
        </section>
        <section data-markdown>
            ## Nazwy zdarzeń (Eventów)
            ```
            UserCreated
            ProFormUpdated
            CorrectionDeleted
            ProFormEmailSent
            ```
            ### nie:
            ```
            UserEvent
            PaymentEvent
            OrderOccurred
            ```
        </section>
        <section>
            <section data-markdown>
                ### Wysokopoziomowe nazwy komponentów powinny odzwierciedlać intencję biznesową.
            </section>
            <section data-markdown>
                > Nazywaj klasy oraz operacje w taki sposób, aby opisywały swój cel lub działanie bez odwoływania się do
                środków, których do tego używają.

                "Domain Driven Design" Eric Evans
            </section>
            <section data-markdown>
                ```
                invoice.getPayments()
                proForm.getPurchaserContactEmail()
                mailer.send(proFormCreatedEmail)
                ```
            </section>
            <section>
                <img src="img/it_depends.jpeg"/>
            </section>
        </section>
        <section data-markdown>
            ## Nazwy modułów
            Powinny przekazywać pewną historię.
            Moduł wraz ze swoimi nazwami powinny odzwierciedlać wiedzę dziedzinową.
        </section>
        <section>
            <section data-markdown>
                ## Trochę kodu
            </section>
            <section data-markdown>
                ```php
                function filterOrders()
                {
                    $orders = [];
                    foreach($this->orders as $order) {
                        if($order->status == 'CL')
                            $orders[] = $order;
                    }
                    return $orders;
                }
                ```
            </section>
            <section data-markdown>
                ```php
                function filterOrdersByStatus($status)
                {
                    $orders = [];
                    foreach($this->orders as $order) {
                        if($order->status == $status)
                            $orders[] = $order;
                    }
                    return $orders;
                }
                ```
            </section>
            <section data-markdown>
                ```php
                function getFinishedOrders()
                {
                    $paidOrders = [];
                    foreach($this->orders as $order) {
                        if($order->isClosed())
                            $paidOrders[] = $order;
                    }

                    return $paidOrders;
                }
                // ||
                function getFinishedOrders()
                {
                    return $this->filterOrdersByStatus(self::STATUS_CLOSED);
                }
                ```
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Przyczyny
            </section>
            <section>
                <h3>Zbytnie uogólnienie</h3>

                <img src="img/dzik.jpg" height="500px"/>
            </section>
            <section>
                <h3>Brak kontekstu</h3>

                <img src="img/zasadzka.jpg" height="500px"/>
            </section>
            <section>
                <h3>Zbyt wczesne nazwy</h3>

                <img src="img/wildebeast.png"/>
            </section>
            <section>
                <img src="img/replace%20all.png"/>
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Ile faktycznie możemy zyskać?
            </section>
            <section data-markdown>
                ## Trochę matematyki

                ```
                ~80h - godzin na sprint (2tyg)
                90% - czas spędzony na czytaniu kodu
                80 * 0,9 = 72h
                10% poprawmy czytelność tylko o tyle
                72h * 0,1 = 7h // zysk z czytelniejszego kodu
                ```
            </section>
            <section>
                <img src="img/file_name.png"/>
            </section>
        </section>
        <section>
            <section data-markdown>
                ## Pytania ?
            </section>
            <section>
                <img src="img/thats%20all%20folks.jpg"/>
            </section>
        </section>
    </div>
</div>
<script src="node_modules/reveal.js/js/reveal.js"></script>
<script>
  Reveal.initialize({
    dependencies: [
      {src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true},
      {
        src: 'node_modules/reveal.js/plugin/markdown/marked.js', condition: function () {
          return !!document.querySelector('[data-markdown]');
        }
      },
      {
        src: 'node_modules/reveal.js/plugin/markdown/markdown.js', condition: function () {
          return !!document.querySelector('[data-markdown]');
        }
      },
    ]
  });
</script>
</body>
</html>